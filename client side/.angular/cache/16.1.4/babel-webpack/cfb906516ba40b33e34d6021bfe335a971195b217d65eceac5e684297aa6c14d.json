{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/Services/dpgf.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"../nav/nav.component\";\nimport * as i4 from \"../lot/lot.component\";\nexport class MainComponent {\n  ///// constructor\n  constructor(dpgf, route, router) {\n    this.dpgf = dpgf;\n    this.route = route;\n    this.router = router;\n    ///// Variables \n    this.dpgfId = '';\n    this.LotList = []; //list of lots from dpgf\n    this.showDefault = true;\n  }\n  //// methods :\n  isArray(arr) {\n    return Array.isArray(arr);\n  }\n  getIdFromUrl() {\n    this.route.paramMap.subscribe(r => {\n      this.dpgfId = r.get('id');\n    });\n  }\n  InitializeDpgfAndLotList() {\n    this.dpgf.getDpgf(this.dpgfId).subscribe(dpgf => {\n      if (typeof dpgf == 'number') {\n        console.log(\"error fetching dpgf\".toUpperCase());\n      } else {\n        this.DPGF = dpgf;\n        this.DPGF.lots.forEach(lot => {\n          this.LotList.push({\n            name: lot['name'],\n            _id: lot[\"_id\"],\n            total: lot[\"total\"]\n          });\n          if (lot.sousLots == undefined || lot.sousLots == null) {\n            lot.sousLots = [];\n          }\n        });\n        console.log(this.DPGF);\n      }\n    });\n  }\n  //lifecycle hooks\n  ngOnInit() {\n    this.getIdFromUrl();\n    this.InitializeDpgfAndLotList();\n  }\n  ////// Notification methods\n  OnNotifyNav(data) {\n    console.log(JSON.stringify(data) + ' was clicked !');\n  }\n  OnNotifyDefaulrScreen(data) {\n    console.log(JSON.stringify(data) + ' was clicked !');\n  }\n}\nMainComponent.ɵfac = function MainComponent_Factory(t) {\n  return new (t || MainComponent)(i0.ɵɵdirectiveInject(i1.DpgfService), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i2.Router));\n};\nMainComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: MainComponent,\n  selectors: [[\"app-main\"]],\n  decls: 6,\n  vars: 1,\n  consts: [[1, \"test\"], [1, \"container\"], [1, \"left\"], [3, \"LotList\", \"notify\"], [1, \"right\"]],\n  template: function MainComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"app-nav\", 3);\n      i0.ɵɵlistener(\"notify\", function MainComponent_Template_app_nav_notify_3_listener($event) {\n        return ctx.OnNotifyNav($event);\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(4, \"div\", 4);\n      i0.ɵɵelement(5, \"app-lot\");\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"LotList\", ctx.LotList);\n    }\n  },\n  dependencies: [i3.NavComponent, i4.LotComponent],\n  styles: [\".test[_ngcontent-%COMP%] {\\n  height: 100vh;\\n  display: flex;\\n  flex-direction: row;\\n  justify-content: center;\\n  align-items: center;\\n  background-color: #f5f7fb;\\n}\\n.test[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: row;\\n  justify-content: center;\\n  align-items: center;\\n  height: 83%;\\n  width: 75%;\\n  gap: 5%;\\n}\\n.test[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%] {\\n  border: solid 1px #9b29ff;\\n  border-radius: 30px;\\n  padding-inline: 1rem;\\n  padding-block: 2rem;\\n  background-color: white;\\n  flex-grow: 2.5;\\n  height: 100%;\\n  min-width: 16rem;\\n  box-sizing: border-box;\\n  max-width: 900px;\\n  overflow-y: auto;\\n}\\n.test[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%] {\\n  border: solid 1px #9b29ff;\\n  border-radius: 30px;\\n  padding-inline: 1rem;\\n  padding-block: 2rem;\\n  background-color: white;\\n  min-width: 8rem;\\n  max-width: 350px;\\n  flex-grow: 1;\\n  height: 100%;\\n  box-sizing: border-box;\\n}\\n.test[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   app-nav[_ngcontent-%COMP%] {\\n  width: 50%;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvZHBnZi9tYWluL21haW4uY29tcG9uZW50LnNjc3MiLCJ3ZWJwYWNrOi8vLi9zcmMvYXNzZXRzL19taXhpbnMuc2NzcyIsIndlYnBhY2s6Ly8uL3NyYy9hc3NldHMvX0dsb2JhbFZhcnMuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFHQTtFQUNJLGFBQUE7RUNhQSxhQUFBO0VBQ0EsbUJBQUE7RUFDQSx1QkFBQTtFQUNBLG1CQUFBO0VEZEEseUJFSmdCO0FGS3BCO0FBQUk7RUNVQSxhQUFBO0VBQ0EsbUJBQUE7RUFDQSx1QkFBQTtFQUNBLG1CQUFBO0VEWEksV0FBQTtFQUNBLFVBQUE7RUFDQSxPQUFBO0FBS1I7QUFKUTtFQ29DSix5QkFBQTtFQUNBLG1CQUFBO0VBQ0Esb0JBQUE7RUFDQSxtQkFBQTtFQUNBLHVCQUFBO0VEdENRLGNBQUE7RUFDQSxZQUFBO0VBQ0EsZ0JBQUE7RUFDQSxzQkFBQTtFQUNBLGdCQUFBO0VBQ0EsZ0JBQUE7QUFVWjtBQUxRO0VDd0JKLHlCQUFBO0VBQ0EsbUJBQUE7RUFDQSxvQkFBQTtFQUNBLG1CQUFBO0VBQ0EsdUJBQUE7RUQxQlEsZUFBQTtFQUNBLGdCQUFBO0VBQ0EsWUFBQTtFQUNBLFlBQUE7RUFDQSxzQkFBQTtBQVdaO0FBVFk7RUFDSSxVQUFBO0FBV2hCIiwic291cmNlc0NvbnRlbnQiOlsiQHVzZSAnLi4vLi4vLi4vYXNzZXRzL21peGlucycgYXMgbWl4IDtcclxuQHVzZSAnLi4vLi4vLi4vYXNzZXRzL0dsb2JhbFZhcnMnIGFzIHZhcnMgO1xyXG5cclxuLnRlc3R7XHJcbiAgICBoZWlnaHQ6IDEwMHZoO1xyXG4gICAgQGluY2x1ZGUgbWl4LmZsZXgtaG9yLWNlbjtcclxuICAgIGJhY2tncm91bmQtY29sb3I6IHZhcnMuJGNvbG9yLWJhY2tncm91bmQgO1xyXG4gICAgLmNvbnRhaW5lcntcclxuICAgICAgICBAaW5jbHVkZSBtaXguZmxleC1ob3ItY2VuO1xyXG4gICAgICAgIGhlaWdodDogODMlO1xyXG4gICAgICAgIHdpZHRoOiA3NSU7XHJcbiAgICAgICAgZ2FwOiA1JTtcclxuICAgICAgICAucmlnaHR7XHJcbiAgICAgICAgICAgIEBpbmNsdWRlIG1peC5yb3VuZC1ib3g7XHJcbiAgICAgICAgICAgIGZsZXgtZ3JvdzogMi41O1xyXG4gICAgICAgICAgICBoZWlnaHQ6IDEwMCU7XHJcbiAgICAgICAgICAgIG1pbi13aWR0aDogMTZyZW07XHJcbiAgICAgICAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XHJcbiAgICAgICAgICAgIG1heC13aWR0aDogOTAwcHg7XHJcbiAgICAgICAgICAgIG92ZXJmbG93LXkgOiBhdXRvO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAvLyBiYWNrZ3JvdW5kLWNvbG9yOiB2YXJzLiRjb2xvci1wcmltYXJ5O1xyXG4gICAgICAgICAgICBcclxuICAgICAgICB9XHJcbiAgICAgICAgLmxlZnR7XHJcbiAgICAgICAgICAgIEBpbmNsdWRlIG1peC5yb3VuZC1ib3g7XHJcbiAgICAgICAgICAgIG1pbi13aWR0aDogOHJlbTtcclxuICAgICAgICAgICAgbWF4LXdpZHRoOiAzNTBweDtcclxuICAgICAgICAgICAgZmxleC1ncm93OiAxO1xyXG4gICAgICAgICAgICBoZWlnaHQ6IDEwMCU7XHJcbiAgICAgICAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XHJcbiAgICAgICAgIC8vICAgYmFja2dyb3VuZC1jb2xvcjogYmx1ZTtcclxuICAgICAgICAgICAgYXBwLW5hdntcclxuICAgICAgICAgICAgICAgIHdpZHRoOiA1MCU7XHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG5cclxufSIsIkB1c2UgJy4vR2xvYmFsVmFycycgYXMgdmFycztcclxuXHJcbkBtaXhpbiBmbGV4LWhvciB7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgZmxleC1kaXJlY3Rpb246IHJvdztcclxufVxyXG5AbWl4aW4gZmxleC12ZXJ7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxufVxyXG5AbWl4aW4gZmxleC12ZXItY2Vue1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbn1cclxuQG1peGluIGZsZXgtaG9yLWNlbntcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xyXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG59XHJcbkBtaXhpbiBtYXJnaW4tYXV0by1jZW50ZXIge1xyXG4gICAgZGlzcGxheSA6IGJsb2NrO1xyXG4gICAgbWFyZ2luLWlubGluZSA6IGF1dG87XHJcbn1cclxuQG1peGluIGJ1dHRvbigkcHIgLCAkc2VjLCRmb250LXNpemUgLCAkcGFkZGluZy1pbmxpbmUsICRwYWRkaW5nLWJsb2NrKSB7XHJcbiAgICBjb2xvciA6ICRzZWM7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBsaWdodGVuKCRjb2xvcjogJHByICwgJGFtb3VudDogMTMpO1xyXG4gICAgcGFkZGluZy1pbmxpbmU6ICRwYWRkaW5nLWlubGluZTtcclxuICAgIHBhZGRpbmctYmxvY2s6ICRwYWRkaW5nLWJsb2NrO1xyXG4gICAgYm9yZGVyOiBub25lO1xyXG4gICAgYm9yZGVyLXJhZGl1cyA6IDIwcHg7XHJcbiAgICBmb250LXNpemUgOiAkZm9udC1zaXplIDtcclxuICAgIGZvbnQtd2VpZ2h0OiA1MDA7XHJcbiAgICBib3gtc2hhZG93OiAxcHggJHByO1xyXG4gICAgbWFyZ2luLXRvcDogNHJlbTtcclxuICAgIGJvcmRlcjogc29saWQgMXB4ICRzZWM7XHJcbiAgICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgICB0cmFuc2l0aW9uOiBiYWNrZ3JvdW5kLWNvbG9yIC4zcztcclxuICAgICY6aG92ZXJ7XHJcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogJHNlYztcclxuICAgICAgICBjb2xvcjogbGlnaHRlbigkY29sb3I6ICRwciAsICRhbW91bnQ6IDEzKTtcclxuICAgICAgICBib3JkZXI6IHNvbGlkIDFweCBsaWdodGVuKCRjb2xvcjogJHByLCAkYW1vdW50OiAyMCk7XHJcblxyXG4gICAgfVxyXG59XHJcbkBtaXhpbiByb3VuZC1ib3gge1xyXG4gICAgYm9yZGVyOiBzb2xpZCAxcHggbGlnaHRlbigkY29sb3I6IHZhcnMuJGNvbG9yLXByaW1hcnksICRhbW91bnQ6IDIwKTtcclxuICAgIGJvcmRlci1yYWRpdXM6IDMwcHg7XHJcbiAgICBwYWRkaW5nLWlubGluZTogMXJlbSA7XHJcbiAgICBwYWRkaW5nLWJsb2NrOjJyZW0gO1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XHJcbn0iLCIkY29sb3ItcHJpbWFyeSA6IHJnYigxMDMsIDAsIDE5NCk7XHJcbiRjb2xvci1zZWNvbmRhcnkgOiB3aGl0ZTtcclxuJGNvbG9yLWJhY2tncm91bmQgOiAjZjVmN2ZiIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"names":["MainComponent","constructor","dpgf","route","router","dpgfId","LotList","showDefault","isArray","arr","Array","getIdFromUrl","paramMap","subscribe","r","get","InitializeDpgfAndLotList","getDpgf","console","log","toUpperCase","DPGF","lots","forEach","lot","push","name","_id","total","sousLots","undefined","ngOnInit","OnNotifyNav","data","JSON","stringify","OnNotifyDefaulrScreen","i0","ɵɵdirectiveInject","i1","DpgfService","i2","ActivatedRoute","Router","selectors","decls","vars","consts","template","MainComponent_Template","rf","ctx","ɵɵelementStart","ɵɵlistener","MainComponent_Template_app_nav_notify_3_listener","$event","ɵɵelementEnd","ɵɵelement","ɵɵadvance","ɵɵproperty"],"sources":["C:\\Users\\Yassir\\Desktop\\web\\Angular-test\\aglo-clone\\src\\app\\dpgf\\main\\main.component.ts","C:\\Users\\Yassir\\Desktop\\web\\Angular-test\\aglo-clone\\src\\app\\dpgf\\main\\main.component.html"],"sourcesContent":["import { Component,OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { DpgfService } from 'src/app/Services/dpgf.service';\nimport { Lot } from '../lot/lot.component';\n\n type dpgf = {\n  _id : string,\n  total : string,\n  project : string,\n  //lots : Array<Record<string , string | Array<Record<string , string | Array<Record<string , string>>>>>>\n  lots :Array<Lot>\n}\n@Component({\n  selector: 'app-main',\n  templateUrl: './main.component.html',\n  styleUrls: ['./main.component.scss']\n})\n\n\n\nexport class MainComponent implements OnInit {\n  ///// Variables \n  dpgfId : string | null= ''\n  DPGF! : dpgf; // dpgf has everything all data\n  LotList : Array<Record<string ,string>>=[] //list of lots from dpgf\n  showDefault = true\n\n\n\n\n\n\n  ///// constructor\n  constructor (private dpgf : DpgfService , private route  : ActivatedRoute, private router : Router){}\n\n\n\n\n\n\n\n\n  //// methods :\n  isArray(arr  : any){return Array.isArray(arr)}\n  getIdFromUrl(){\n    this.route.paramMap.subscribe((r)=>{\n      this.dpgfId = r.get('id')\n    })\n\n  }\n\n  InitializeDpgfAndLotList(){\n    this.dpgf.getDpgf(this.dpgfId as string)\n    .subscribe(\n      (dpgf)=>{\n        if (typeof(dpgf) == 'number') {\n          console.log(\"error fetching dpgf\".toUpperCase());\n          \n        } else {\n          this.DPGF = dpgf as dpgf\n          this.DPGF.lots.forEach((lot)=>{\n            this.LotList.push({name: lot['name'] as string,_id :lot[\"_id\"] as string, total : lot[\"total\"] as string })\n            if (lot.sousLots  == undefined || lot.sousLots== null) {\n              lot.sousLots =[]\n            }\n          })\n         console.log(this.DPGF);\n         \n          \n        }\n      }\n    )\n  }\n\n\n\n\n\n\n  //lifecycle hooks\n\n  ngOnInit() {\n    this.getIdFromUrl()\n    this.InitializeDpgfAndLotList()   \n  }\n\n\n\n\n\n\n  ////// Notification methods\n  OnNotifyNav(data: Object){\n    console.log(JSON.stringify(data)+' was clicked !');\n    \n  }\n  OnNotifyDefaulrScreen(data: Object){\n    console.log(JSON.stringify(data)+' was clicked !');\n  }\n\n  \n}\n","<div class=\"test\">\n    <div class=\"container\">\n\n        <div class=\"left\">\n            <app-nav [LotList]=\"LotList\" (notify)=\"OnNotifyNav($event)\"></app-nav>\n        </div>\n        <div class=\"right\">\n            <!-- <app-default-screen *ngIf=\" isArray(LotList) && LotList.length != 0 && showDefault\" [lotList]=\"LotList \" (notify)=\"OnNotifyDefaulrScreen($event)\"></app-default-screen> -->\n            <app-lot></app-lot>\n            \n        </div>\n    </div>\n</div>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}