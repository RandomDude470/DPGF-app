{"ast":null,"code":"import { EventEmitter } from '@angular/core';\nimport { FormControl, FormGroup } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nconst _c0 = [\"des\"];\nexport class PostComponent {\n  constructor() {\n    this.Post = {\n      id: '',\n      designation: '',\n      pu: '',\n      tva: '',\n      total: '',\n      unit: '',\n      qte: ''\n    };\n    this.notify = new EventEmitter();\n    this.form = new FormGroup({\n      designation: new FormControl(this.Post.designation),\n      qte: new FormControl(this.Post.qte),\n      unit: new FormControl(this.Post.unit),\n      tva: new FormControl(this.Post.tva),\n      pu: new FormControl(this.Post.pu),\n      total: new FormControl(this.Post.total)\n    });\n    this.total = 0;\n  }\n  ngOnInit() {\n    this.form.setValue({\n      designation: this.Post.designation,\n      qte: this.Post.qte,\n      unit: this.Post.unit,\n      tva: this.Post.tva,\n      pu: this.Post.pu,\n      total: this.Post.total\n    });\n    this.total = Number(this.Post.total);\n  }\n  OnBlur() {\n    let obj = this.form.value;\n    if (this.Post.id != '') {\n      obj['id'] = this.Post.id;\n    } else {\n      throw new Error('No Post Id');\n    }\n    let qte = Number(this.form.value.qte);\n    let pu = Number(this.form.value.pu);\n    let tva = isNaN(Number(this.form.value.tva)) ? 0 : Number(this.form.value.tva);\n    this.total = isNaN(pu) || isNaN(qte) ? 0 : pu * qte + pu * qte * tva / 100;\n    obj['total'] = String(this.total);\n    console.log(obj);\n    this.notify.emit(obj);\n  }\n}\nPostComponent.ɵfac = function PostComponent_Factory(t) {\n  return new (t || PostComponent)();\n};\nPostComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: PostComponent,\n  selectors: [[\"app-post\"]],\n  viewQuery: function PostComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 5);\n    }\n    if (rf & 2) {\n      let _t;\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.des = _t.first);\n    }\n  },\n  inputs: {\n    Post: \"Post\"\n  },\n  outputs: {\n    notify: \"notify\"\n  },\n  decls: 13,\n  vars: 2,\n  consts: [[3, \"formGroup\"], [\"type\", \"text\", \"formControlName\", \"designation\", \"placeholder\", \"designation\", 3, \"change\"], [\"type\", \"text\", \"formControlName\", \"qte\", \"placeholder\", \"qte\", 3, \"change\"], [\"type\", \"text\", \"formControlName\", \"unit\", \"placeholder\", \"unit\", 3, \"change\"], [\"type\", \"text\", \"formControlName\", \"tva\", \"placeholder\", \"tva\", 3, \"change\"], [\"type\", \"text\", \"formControlName\", \"pu\", \"placeholder\", \"pu\", 3, \"change\"]],\n  template: function PostComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"tr\", 0)(1, \"td\")(2, \"input\", 1);\n      i0.ɵɵlistener(\"change\", function PostComponent_Template_input_change_2_listener() {\n        return ctx.OnBlur();\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(3, \"td\")(4, \"input\", 2);\n      i0.ɵɵlistener(\"change\", function PostComponent_Template_input_change_4_listener() {\n        return ctx.OnBlur();\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(5, \"td\")(6, \"input\", 3);\n      i0.ɵɵlistener(\"change\", function PostComponent_Template_input_change_6_listener() {\n        return ctx.OnBlur();\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(7, \"td\")(8, \"input\", 4);\n      i0.ɵɵlistener(\"change\", function PostComponent_Template_input_change_8_listener() {\n        return ctx.OnBlur();\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(9, \"td\")(10, \"input\", 5);\n      i0.ɵɵlistener(\"change\", function PostComponent_Template_input_change_10_listener() {\n        return ctx.OnBlur();\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(11, \"td\");\n      i0.ɵɵtext(12);\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"formGroup\", ctx.form);\n      i0.ɵɵadvance(12);\n      i0.ɵɵtextInterpolate(ctx.total);\n    }\n  },\n  dependencies: [i1.DefaultValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.FormControlName],\n  styles: [\"td[_ngcontent-%COMP%] {\\n  box-sizing: border-box;\\n  padding-block: 0.5rem;\\n  padding-inline: 0.4rem;\\n}\\n\\ninput[_ngcontent-%COMP%] {\\n  box-sizing: border-box;\\n  border: none;\\n  border-bottom: solid gray 1px;\\n  width: 100%;\\n  padding: 0.2rem;\\n  font-size: 18px;\\n}\\ninput[_ngcontent-%COMP%]:focus {\\n  outline: none;\\n  border-bottom: rgb(103, 0, 194);\\n  transition: border 0.3s;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvZHBnZi9wb3N0L3Bvc3QuY29tcG9uZW50LnNjc3MiLCJ3ZWJwYWNrOi8vLi9zcmMvYXNzZXRzL19HbG9iYWxWYXJzLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUE7RUFFSSxzQkFBQTtFQUNBLHFCQUFBO0VBQ0Esc0JBQUE7QUFGSjs7QUFJQTtFQUNJLHNCQUFBO0VBQ0EsWUFBQTtFQUNBLDZCQUFBO0VBQ0EsV0FBQTtFQUNBLGVBQUE7RUFDQSxlQUFBO0FBREo7QUFFSTtFQUNJLGFBQUE7RUFDQSwrQkNqQlM7RURrQlQsdUJBQUE7QUFBUiIsInNvdXJjZXNDb250ZW50IjpbIkB1c2UgJy9zcmMvYXNzZXRzL0dsb2JhbFZhcnMnIGFzIHZhcnM7XHJcblxyXG50ZHtcclxuICAgIFxyXG4gICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcclxuICAgIHBhZGRpbmctYmxvY2sgOiAuNXJlbSA7XHJcbiAgICBwYWRkaW5nLWlubGluZTogLjRyZW07XHJcbn1cclxuaW5wdXR7XHJcbiAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xyXG4gICAgYm9yZGVyOiBub25lO1xyXG4gICAgYm9yZGVyLWJvdHRvbTogc29saWQgZ3JheSAxcHg7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIHBhZGRpbmc6IC4ycmVtO1xyXG4gICAgZm9udC1zaXplOiAxOHB4O1xyXG4gICAgJjpmb2N1c3tcclxuICAgICAgICBvdXRsaW5lOiBub25lO1xyXG4gICAgICAgIGJvcmRlci1ib3R0b206IHZhcnMuJGNvbG9yLXByaW1hcnk7XHJcbiAgICAgICAgdHJhbnNpdGlvbiAgOiBib3JkZXIgLjNzXHJcbiAgICB9XHJcbn0iLCIkY29sb3ItcHJpbWFyeSA6IHJnYigxMDMsIDAsIDE5NCk7XHJcbiRjb2xvci1zZWNvbmRhcnkgOiB3aGl0ZTtcclxuJGNvbG9yLWJhY2tncm91bmQgOiAjZjVmN2ZiIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"names":["EventEmitter","FormControl","FormGroup","PostComponent","constructor","Post","id","designation","pu","tva","total","unit","qte","notify","form","ngOnInit","setValue","Number","OnBlur","obj","value","Error","isNaN","String","console","log","emit","selectors","viewQuery","PostComponent_Query","rf","ctx","i0","ɵɵelementStart","ɵɵlistener","PostComponent_Template_input_change_2_listener","ɵɵelementEnd","PostComponent_Template_input_change_4_listener","PostComponent_Template_input_change_6_listener","PostComponent_Template_input_change_8_listener","PostComponent_Template_input_change_10_listener","ɵɵtext","ɵɵproperty","ɵɵadvance","ɵɵtextInterpolate"],"sources":["C:\\Users\\Yassir\\Desktop\\web\\Angular-test\\aglo-clone\\src\\app\\dpgf\\post\\post.component.ts","C:\\Users\\Yassir\\Desktop\\web\\Angular-test\\aglo-clone\\src\\app\\dpgf\\post\\post.component.html"],"sourcesContent":["import { Component, ElementRef, EventEmitter, Input, OnInit, Output, ViewChild } from '@angular/core';\nimport { FormControl, FormGroup } from '@angular/forms';\n\n@Component({\n  selector: 'app-post',\n  templateUrl: './post.component.html',\n  styleUrls: ['./post.component.scss'],\n})\nexport class PostComponent implements OnInit {\n  @Input() Post: {\n    id: string;\n    designation: string;\n    pu: string;\n    tva: string;\n    total: string;\n    unit: string;\n    qte: string;\n  } = {\n    id: '',\n    designation: '',\n    pu: '',\n    tva: '',\n    total: '',\n    unit: '',\n    qte: ''\n  };\n  @Output() notify = new EventEmitter();\n  form : FormGroup = new FormGroup({\n    designation: new FormControl(this.Post.designation),\n    qte: new FormControl(this.Post.qte),\n    unit: new FormControl(this.Post.unit),\n    tva: new FormControl(this.Post.tva),\n    pu: new FormControl(this.Post.pu),\n    total: new FormControl(this.Post.total),\n  });\n  total = 0;\n  @ViewChild('des') des! : ElementRef<HTMLInputElement>;\n\n\n  ngOnInit(){\n   this.form.setValue({\n    designation : this.Post.designation,\n    qte : this.Post.qte,\n    unit : this.Post.unit,\n    tva : this.Post.tva,\n    pu : this.Post.pu,\n    total : this.Post.total,\n   })\n   this.total = Number(this.Post.total)\n    \n  }\n  OnBlur() {\n    let obj = this.form.value as Record<string, string>;\n    if (this.Post.id != '') {\n      obj['id'] = this.Post.id;\n    } else {\n      throw new Error('No Post Id');\n    }\n    let qte = Number(this.form.value.qte);\n    let pu = Number(this.form.value.pu);\n    let tva = isNaN(Number(this.form.value.tva))? 0: Number(this.form.value.tva);\n    this.total = isNaN(pu) || isNaN(qte) ? 0 : pu * qte + (pu * qte * tva) / 100;\n    obj['total'] = String(this.total);\n    console.log(obj);\n    this.notify.emit(obj);\n    \n  }\n  \n  \n}\n","<tr [formGroup]=\"form\">\n    <td><input type=\"text\" formControlName=\"designation\" placeholder=\"designation\"  (change)=\"OnBlur()\"></td>\n    <td><input type=\"text\" formControlName=\"qte\" placeholder=\"qte\"  (change)=\"OnBlur()\"></td>\n    <td><input type=\"text\" formControlName=\"unit\" placeholder=\"unit\"  (change)=\"OnBlur()\"></td>\n    <td><input type=\"text\" formControlName=\"tva\" placeholder=\"tva\"  (change)=\"OnBlur()\"></td>\n    <td><input type=\"text\" formControlName=\"pu\" placeholder=\"pu\"  (change)=\"OnBlur()\"></td>\n    <td>{{total}}</td>\n    \n</tr>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}