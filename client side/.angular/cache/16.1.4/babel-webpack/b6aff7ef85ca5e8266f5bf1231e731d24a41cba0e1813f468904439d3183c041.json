{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/Services/dpgf.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"../nav/nav.component\";\nimport * as i4 from \"../lot/lot.component\";\nexport class MainComponent {\n  ///// constructor\n  constructor(dpgf, route, router) {\n    this.dpgf = dpgf;\n    this.route = route;\n    this.router = router;\n    ///// Variables \n    this.dpgfId = '';\n    this.LotList = []; //list of lots from dpgf\n  }\n  //// methods :\n  isArray(arr) {\n    return Array.isArray(arr);\n  }\n  getIdFromUrl() {\n    this.route.paramMap.subscribe(r => {\n      this.dpgfId = r.get('id');\n    });\n  }\n  InitializeDpgfAndLotList() {\n    this.dpgf.getDpgf(this.dpgfId).subscribe(dpgf => {\n      if (typeof dpgf == 'number') {\n        console.log(\"error fetching dpgf\".toUpperCase());\n      } else {\n        this.DPGF = dpgf;\n        this.DPGF.lots.forEach(lot => {\n          this.LotList.push({\n            name: lot['name'],\n            _id: lot[\"_id\"],\n            total: lot[\"total\"]\n          });\n        });\n        console.log(this.DPGF);\n      }\n    });\n  }\n  //lifecycle hooks\n  ngOnInit() {\n    this.getIdFromUrl();\n    this.InitializeDpgfAndLotList();\n  }\n  ////// Notification methods\n  OnNotifyNav(data) {\n    console.log(JSON.stringify(data) + ' was clicked !');\n  }\n  OnNotifyDefaulrScreen(data) {\n    console.log(JSON.stringify(data) + ' was clicked !');\n  }\n}\nMainComponent.ɵfac = function MainComponent_Factory(t) {\n  return new (t || MainComponent)(i0.ɵɵdirectiveInject(i1.DpgfService), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i2.Router));\n};\nMainComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: MainComponent,\n  selectors: [[\"app-main\"]],\n  decls: 6,\n  vars: 1,\n  consts: [[1, \"test\"], [1, \"container\"], [1, \"left\"], [3, \"LotList\", \"notify\"], [1, \"right\"]],\n  template: function MainComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"app-nav\", 3);\n      i0.ɵɵlistener(\"notify\", function MainComponent_Template_app_nav_notify_3_listener($event) {\n        return ctx.OnNotifyNav($event);\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(4, \"div\", 4);\n      i0.ɵɵelement(5, \"app-lot\");\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"LotList\", ctx.LotList);\n    }\n  },\n  dependencies: [i3.NavComponent, i4.LotComponent],\n  styles: [\".test[_ngcontent-%COMP%] {\\n  height: 100vh;\\n  display: flex;\\n  flex-direction: row;\\n  justify-content: center;\\n  align-items: center;\\n  background-color: #f5f7fb;\\n}\\n.test[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: row;\\n  justify-content: center;\\n  align-items: center;\\n  height: 80%;\\n  width: 75%;\\n  gap: 5%;\\n}\\n.test[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%] {\\n  border: solid 1px #9b29ff;\\n  border-radius: 30px;\\n  padding-inline: 1rem;\\n  padding-block: 2rem;\\n  background-color: white;\\n  flex-grow: 2.5;\\n  height: 100%;\\n  min-width: 16rem;\\n  box-sizing: border-box;\\n  max-width: 900px;\\n  overflow-y: auto;\\n}\\n.test[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%] {\\n  border: solid 1px #9b29ff;\\n  border-radius: 30px;\\n  padding-inline: 1rem;\\n  padding-block: 2rem;\\n  background-color: white;\\n  min-width: 8rem;\\n  max-width: 350px;\\n  flex-grow: 1;\\n  height: 100%;\\n  box-sizing: border-box;\\n}\\n.test[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   app-nav[_ngcontent-%COMP%] {\\n  width: 50%;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvZHBnZi9tYWluL21haW4uY29tcG9uZW50LnNjc3MiLCJ3ZWJwYWNrOi8vLi9zcmMvYXNzZXRzL19taXhpbnMuc2NzcyIsIndlYnBhY2s6Ly8uL3NyYy9hc3NldHMvX0dsb2JhbFZhcnMuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFHQTtFQUNJLGFBQUE7RUNhQSxhQUFBO0VBQ0EsbUJBQUE7RUFDQSx1QkFBQTtFQUNBLG1CQUFBO0VEZEEseUJFSmdCO0FGS3BCO0FBQUk7RUNVQSxhQUFBO0VBQ0EsbUJBQUE7RUFDQSx1QkFBQTtFQUNBLG1CQUFBO0VEWEksV0FBQTtFQUNBLFVBQUE7RUFDQSxPQUFBO0FBS1I7QUFKUTtFQ29DSix5QkFBQTtFQUNBLG1CQUFBO0VBQ0Esb0JBQUE7RUFDQSxtQkFBQTtFQUNBLHVCQUFBO0VEdENRLGNBQUE7RUFDQSxZQUFBO0VBQ0EsZ0JBQUE7RUFDQSxzQkFBQTtFQUNBLGdCQUFBO0VBQ0EsZ0JBQUE7QUFVWjtBQU5RO0VDeUJKLHlCQUFBO0VBQ0EsbUJBQUE7RUFDQSxvQkFBQTtFQUNBLG1CQUFBO0VBQ0EsdUJBQUE7RUQzQlEsZUFBQTtFQUNBLGdCQUFBO0VBQ0EsWUFBQTtFQUNBLFlBQUE7RUFDQSxzQkFBQTtBQVlaO0FBVlk7RUFDSSxVQUFBO0FBWWhCIiwic291cmNlc0NvbnRlbnQiOlsiQHVzZSAnLi4vLi4vLi4vYXNzZXRzL21peGlucycgYXMgbWl4IDtcclxuQHVzZSAnLi4vLi4vLi4vYXNzZXRzL0dsb2JhbFZhcnMnIGFzIHZhcnMgO1xyXG5cclxuLnRlc3R7XHJcbiAgICBoZWlnaHQ6IDEwMHZoO1xyXG4gICAgQGluY2x1ZGUgbWl4LmZsZXgtaG9yLWNlbjtcclxuICAgIGJhY2tncm91bmQtY29sb3I6IHZhcnMuJGNvbG9yLWJhY2tncm91bmQgO1xyXG4gICAgLmNvbnRhaW5lcntcclxuICAgICAgICBAaW5jbHVkZSBtaXguZmxleC1ob3ItY2VuO1xyXG4gICAgICAgIGhlaWdodDogODAlO1xyXG4gICAgICAgIHdpZHRoOiA3NSU7XHJcbiAgICAgICAgZ2FwOiA1JTtcclxuICAgICAgICAucmlnaHR7XHJcbiAgICAgICAgICAgIEBpbmNsdWRlIG1peC5yb3VuZC1ib3g7XHJcbiAgICAgICAgICAgIGZsZXgtZ3JvdzogMi41O1xyXG4gICAgICAgICAgICBoZWlnaHQ6IDEwMCU7XHJcbiAgICAgICAgICAgIG1pbi13aWR0aDogMTZyZW07XHJcbiAgICAgICAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XHJcbiAgICAgICAgICAgIG1heC13aWR0aDogOTAwcHg7XHJcbiAgICAgICAgICAgIG92ZXJmbG93LXkgOiBhdXRvO1xyXG4gICAgICAgICAgIC8vIGJhY2tncm91bmQtY29sb3I6IHZhcnMuJGNvbG9yLXByaW1hcnk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIH1cclxuICAgICAgICAubGVmdHtcclxuICAgICAgICAgICAgQGluY2x1ZGUgbWl4LnJvdW5kLWJveDtcclxuICAgICAgICAgICAgbWluLXdpZHRoOiA4cmVtO1xyXG4gICAgICAgICAgICBtYXgtd2lkdGg6IDM1MHB4O1xyXG4gICAgICAgICAgICBmbGV4LWdyb3c6IDE7XHJcbiAgICAgICAgICAgIGhlaWdodDogMTAwJTtcclxuICAgICAgICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcclxuICAgICAgICAgLy8gICBiYWNrZ3JvdW5kLWNvbG9yOiBibHVlO1xyXG4gICAgICAgICAgICBhcHAtbmF2e1xyXG4gICAgICAgICAgICAgICAgd2lkdGg6IDUwJTtcclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcblxyXG59IiwiQHVzZSAnLi9HbG9iYWxWYXJzJyBhcyB2YXJzO1xyXG5cclxuQG1peGluIGZsZXgtaG9yIHtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xyXG59XHJcbkBtaXhpbiBmbGV4LXZlcntcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG59XHJcbkBtaXhpbiBmbGV4LXZlci1jZW57XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxufVxyXG5AbWl4aW4gZmxleC1ob3ItY2Vue1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbn1cclxuQG1peGluIG1hcmdpbi1hdXRvLWNlbnRlciB7XHJcbiAgICBkaXNwbGF5IDogYmxvY2s7XHJcbiAgICBtYXJnaW4taW5saW5lIDogYXV0bztcclxufVxyXG5AbWl4aW4gYnV0dG9uKCRwciAsICRzZWMsJGZvbnQtc2l6ZSAsICRwYWRkaW5nLWlubGluZSwgJHBhZGRpbmctYmxvY2spIHtcclxuICAgIGNvbG9yIDogJHNlYztcclxuICAgIGJhY2tncm91bmQtY29sb3I6IGxpZ2h0ZW4oJGNvbG9yOiAkcHIgLCAkYW1vdW50OiAxMyk7XHJcbiAgICBwYWRkaW5nLWlubGluZTogJHBhZGRpbmctaW5saW5lO1xyXG4gICAgcGFkZGluZy1ibG9jazogJHBhZGRpbmctYmxvY2s7XHJcbiAgICBib3JkZXI6IG5vbmU7XHJcbiAgICBib3JkZXItcmFkaXVzIDogMjBweDtcclxuICAgIGZvbnQtc2l6ZSA6ICRmb250LXNpemUgO1xyXG4gICAgZm9udC13ZWlnaHQ6IDUwMDtcclxuICAgIGJveC1zaGFkb3c6IDFweCAkcHI7XHJcbiAgICBtYXJnaW4tdG9wOiA0cmVtO1xyXG4gICAgYm9yZGVyOiBzb2xpZCAxcHggJHNlYztcclxuICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICAgIHRyYW5zaXRpb246IGJhY2tncm91bmQtY29sb3IgLjNzO1xyXG4gICAgJjpob3ZlcntcclxuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAkc2VjO1xyXG4gICAgICAgIGNvbG9yOiBsaWdodGVuKCRjb2xvcjogJHByICwgJGFtb3VudDogMTMpO1xyXG4gICAgICAgIGJvcmRlcjogc29saWQgMXB4IGxpZ2h0ZW4oJGNvbG9yOiAkcHIsICRhbW91bnQ6IDIwKTtcclxuXHJcbiAgICB9XHJcbn1cclxuQG1peGluIHJvdW5kLWJveCB7XHJcbiAgICBib3JkZXI6IHNvbGlkIDFweCBsaWdodGVuKCRjb2xvcjogdmFycy4kY29sb3ItcHJpbWFyeSwgJGFtb3VudDogMjApO1xyXG4gICAgYm9yZGVyLXJhZGl1czogMzBweDtcclxuICAgIHBhZGRpbmctaW5saW5lOiAxcmVtIDtcclxuICAgIHBhZGRpbmctYmxvY2s6MnJlbSA7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcclxufSIsIiRjb2xvci1wcmltYXJ5IDogcmdiKDEwMywgMCwgMTk0KTtcclxuJGNvbG9yLXNlY29uZGFyeSA6IHdoaXRlO1xyXG4kY29sb3ItYmFja2dyb3VuZCA6ICNmNWY3ZmIiXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});","map":{"version":3,"names":["MainComponent","constructor","dpgf","route","router","dpgfId","LotList","isArray","arr","Array","getIdFromUrl","paramMap","subscribe","r","get","InitializeDpgfAndLotList","getDpgf","console","log","toUpperCase","DPGF","lots","forEach","lot","push","name","_id","total","ngOnInit","OnNotifyNav","data","JSON","stringify","OnNotifyDefaulrScreen","i0","ɵɵdirectiveInject","i1","DpgfService","i2","ActivatedRoute","Router","selectors","decls","vars","consts","template","MainComponent_Template","rf","ctx","ɵɵelementStart","ɵɵlistener","MainComponent_Template_app_nav_notify_3_listener","$event","ɵɵelementEnd","ɵɵelement","ɵɵadvance","ɵɵproperty"],"sources":["C:\\Users\\Yassir\\Desktop\\web\\Angular-test\\aglo-clone\\src\\app\\dpgf\\main\\main.component.ts","C:\\Users\\Yassir\\Desktop\\web\\Angular-test\\aglo-clone\\src\\app\\dpgf\\main\\main.component.html"],"sourcesContent":["import { Component,OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { DpgfService } from 'src/app/Services/dpgf.service';\n\n type dpgf = {\n  _id : string,\n  total : string,\n  project : string,\n  lots : Array<Record<string , string | Array<Record<string , string | Array<Record<string , string>>>>>>\n}\n@Component({\n  selector: 'app-main',\n  templateUrl: './main.component.html',\n  styleUrls: ['./main.component.scss']\n})\n\n\n\nexport class MainComponent implements OnInit {\n  ///// Variables \n  dpgfId : string | null= ''\n  DPGF! : dpgf; // dpgf has everything all data\n  LotList : Array<Record<string ,string>>=[] //list of lots from dpgf\n \n\n\n\n\n\n\n  ///// constructor\n  constructor (private dpgf : DpgfService , private route  : ActivatedRoute, private router : Router){}\n\n\n\n\n\n\n\n\n  //// methods :\n  isArray(arr  : any){return Array.isArray(arr)}\n  getIdFromUrl(){\n    this.route.paramMap.subscribe((r)=>{\n      this.dpgfId = r.get('id')\n    })\n\n  }\n\n  InitializeDpgfAndLotList(){\n    this.dpgf.getDpgf(this.dpgfId as string)\n    .subscribe(\n      (dpgf)=>{\n        if (typeof(dpgf) == 'number') {\n          console.log(\"error fetching dpgf\".toUpperCase());\n          \n        } else {\n          this.DPGF = dpgf as dpgf\n          this.DPGF.lots.forEach((lot)=>{\n            this.LotList.push({name: lot['name'] as string,_id :lot[\"_id\"] as string, total : lot[\"total\"] as string })\n          })\n         console.log(this.DPGF);\n         \n          \n        }\n      }\n    )\n  }\n\n\n\n\n\n\n  //lifecycle hooks\n\n  ngOnInit() {\n    this.getIdFromUrl()\n    this.InitializeDpgfAndLotList()   \n  }\n\n\n\n\n\n\n  ////// Notification methods\n  OnNotifyNav(data: Object){\n    console.log(JSON.stringify(data)+' was clicked !');\n    \n  }\n  OnNotifyDefaulrScreen(data: Object){\n    console.log(JSON.stringify(data)+' was clicked !');\n  }\n\n  \n}\n","<div class=\"test\">\n    <div class=\"container\">\n\n        <div class=\"left\">\n            <app-nav [LotList]=\"LotList\" (notify)=\"OnNotifyNav($event)\"></app-nav>\n        </div>\n        <div class=\"right\">\n            <!-- <app-default-screen *ngIf=\" isArray(LotList) && LotList.length != 0\" [lotList]=\"LotList \" (notify)=\"OnNotifyDefaulrScreen($event)\"></app-default-screen> -->\n            <app-lot></app-lot>\n            \n        </div>\n    </div>\n</div>"],"mappings":";;;;;AAkBA,OAAM,MAAOA,aAAa;EAYxB;EACAC,YAAqBC,IAAkB,EAAWC,KAAuB,EAAUC,MAAe;IAA7E,KAAAF,IAAI,GAAJA,IAAI;IAAyB,KAAAC,KAAK,GAALA,KAAK;IAA4B,KAAAC,MAAM,GAANA,MAAM;IAZzF;IACA,KAAAC,MAAM,GAAkB,EAAE;IAE1B,KAAAC,OAAO,GAAiC,EAAE,EAAC;EASyD;EASpG;EACAC,OAAOA,CAACC,GAAU;IAAE,OAAOC,KAAK,CAACF,OAAO,CAACC,GAAG,CAAC;EAAA;EAC7CE,YAAYA,CAAA;IACV,IAAI,CAACP,KAAK,CAACQ,QAAQ,CAACC,SAAS,CAAEC,CAAC,IAAG;MACjC,IAAI,CAACR,MAAM,GAAGQ,CAAC,CAACC,GAAG,CAAC,IAAI,CAAC;IAC3B,CAAC,CAAC;EAEJ;EAEAC,wBAAwBA,CAAA;IACtB,IAAI,CAACb,IAAI,CAACc,OAAO,CAAC,IAAI,CAACX,MAAgB,CAAC,CACvCO,SAAS,CACPV,IAAI,IAAG;MACN,IAAI,OAAOA,IAAK,IAAI,QAAQ,EAAE;QAC5Be,OAAO,CAACC,GAAG,CAAC,qBAAqB,CAACC,WAAW,EAAE,CAAC;OAEjD,MAAM;QACL,IAAI,CAACC,IAAI,GAAGlB,IAAY;QACxB,IAAI,CAACkB,IAAI,CAACC,IAAI,CAACC,OAAO,CAAEC,GAAG,IAAG;UAC5B,IAAI,CAACjB,OAAO,CAACkB,IAAI,CAAC;YAACC,IAAI,EAAEF,GAAG,CAAC,MAAM,CAAW;YAACG,GAAG,EAAEH,GAAG,CAAC,KAAK,CAAW;YAAEI,KAAK,EAAGJ,GAAG,CAAC,OAAO;UAAW,CAAE,CAAC;QAC7G,CAAC,CAAC;QACHN,OAAO,CAACC,GAAG,CAAC,IAAI,CAACE,IAAI,CAAC;;IAIzB,CAAC,CACF;EACH;EAOA;EAEAQ,QAAQA,CAAA;IACN,IAAI,CAAClB,YAAY,EAAE;IACnB,IAAI,CAACK,wBAAwB,EAAE;EACjC;EAOA;EACAc,WAAWA,CAACC,IAAY;IACtBb,OAAO,CAACC,GAAG,CAACa,IAAI,CAACC,SAAS,CAACF,IAAI,CAAC,GAAC,gBAAgB,CAAC;EAEpD;EACAG,qBAAqBA,CAACH,IAAY;IAChCb,OAAO,CAACC,GAAG,CAACa,IAAI,CAACC,SAAS,CAACF,IAAI,CAAC,GAAC,gBAAgB,CAAC;EACpD;;AA3EW9B,aAAa,C;mBAAbA,aAAa,EAAAkC,EAAA,CAAAC,iBAAA,CAAAC,EAAA,CAAAC,WAAA,GAAAH,EAAA,CAAAC,iBAAA,CAAAG,EAAA,CAAAC,cAAA,GAAAL,EAAA,CAAAC,iBAAA,CAAAG,EAAA,CAAAE,MAAA;AAAA;AAAbxC,aAAa,C;QAAbA,aAAa;EAAAyC,SAAA;EAAAC,KAAA;EAAAC,IAAA;EAAAC,MAAA;EAAAC,QAAA,WAAAC,uBAAAC,EAAA,EAAAC,GAAA;IAAA,IAAAD,EAAA;MClB1Bb,EAAA,CAAAe,cAAA,aAAkB;MAIuBf,EAAA,CAAAgB,UAAA,oBAAAC,iDAAAC,MAAA;QAAA,OAAUJ,GAAA,CAAAnB,WAAA,CAAAuB,MAAA,CAAmB;MAAA,EAAC;MAAClB,EAAA,CAAAmB,YAAA,EAAU;MAE1EnB,EAAA,CAAAe,cAAA,aAAmB;MAEff,EAAA,CAAAoB,SAAA,cAAmB;MAEvBpB,EAAA,CAAAmB,YAAA,EAAM;;;MANOnB,EAAA,CAAAqB,SAAA,GAAmB;MAAnBrB,EAAA,CAAAsB,UAAA,YAAAR,GAAA,CAAA1C,OAAA,CAAmB"},"metadata":{},"sourceType":"module","externalDependencies":[]}