{"ast":null,"code":"import { catchError, of } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/Services/dpgf.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"../nav/nav.component\";\nimport * as i5 from \"../default-screen/default-screen.component\";\nimport * as i6 from \"../lot/lot.component\";\nfunction MainComponent_span_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ÉµÉµelementStart(0, \"span\");\n    i0.ÉµÉµtext(1, \"\\uD83D\\uDDAB Enregistrer\");\n    i0.ÉµÉµelementEnd();\n  }\n}\nfunction MainComponent_span_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ÉµÉµelementStart(0, \"span\");\n    i0.ÉµÉµtext(1, \" Saving ...\");\n    i0.ÉµÉµelementEnd();\n  }\n}\nfunction MainComponent_app_default_screen_10_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ÉµÉµgetCurrentView();\n    i0.ÉµÉµelementStart(0, \"app-default-screen\", 10);\n    i0.ÉµÉµlistener(\"notify\", function MainComponent_app_default_screen_10_Template_app_default_screen_notify_0_listener($event) {\n      i0.ÉµÉµrestoreView(_r5);\n      const ctx_r4 = i0.ÉµÉµnextContext();\n      return i0.ÉµÉµresetView(ctx_r4.OnNotifyDefaulrScreen($event));\n    });\n    i0.ÉµÉµelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ÉµÉµnextContext();\n    i0.ÉµÉµproperty(\"lotList\", ctx_r2.LotList);\n  }\n}\nfunction MainComponent_app_lot_11_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ÉµÉµgetCurrentView();\n    i0.ÉµÉµelementStart(0, \"app-lot\", 11);\n    i0.ÉµÉµlistener(\"notify\", function MainComponent_app_lot_11_Template_app_lot_notify_0_listener($event) {\n      i0.ÉµÉµrestoreView(_r7);\n      const ctx_r6 = i0.ÉµÉµnextContext();\n      return i0.ÉµÉµresetView(ctx_r6.OnNotifyLot($event));\n    })(\"exit\", function MainComponent_app_lot_11_Template_app_lot_exit_0_listener() {\n      i0.ÉµÉµrestoreView(_r7);\n      const ctx_r8 = i0.ÉµÉµnextContext();\n      return i0.ÉµÉµresetView(ctx_r8.showDefault = true);\n    });\n    i0.ÉµÉµelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ÉµÉµnextContext();\n    i0.ÉµÉµproperty(\"Lot\", ctx_r3.fetchLotByIdAndDisplay(ctx_r3.CurrentLot));\n  }\n}\nexport class MainComponent {\n  ///// constructor\n  constructor(dpgf, route, router) {\n    this.dpgf = dpgf;\n    this.route = route;\n    this.router = router;\n    ///// Variables\n    this.ProjectId = '';\n    this.LotList = []; //list of lots from dpgf\n    this.showDefault = true;\n    this.Total = 0;\n    this.saving = false;\n  }\n  //// methods :\n  CalcSum() {\n    this.Total = 0;\n    this.DPGF.lots.forEach(lot => {\n      if (!isNaN(Number(lot.total))) {\n        this.Total += Number(lot.total);\n      }\n    });\n    this.DPGF.total = String(this.Total);\n  }\n  isArray(arr) {\n    return Array.isArray(arr);\n  }\n  getIdFromUrl() {\n    this.route.paramMap.subscribe(r => {\n      this.ProjectId = r.get('id');\n    });\n  }\n  InitializeDpgfAndLotList() {\n    this.dpgf.getDpgf(this.ProjectId).subscribe(dpgf => {\n      if (typeof dpgf == 'number') {\n        console.log('error fetching dpgf'.toUpperCase());\n      }\n      if (dpgf == null) {\n        this.dpgf.CreateDpgfFor(this.ProjectId).pipe(catchError(error => {\n          return of(error.status);\n        })).subscribe(re => {\n          console.log(re);\n          if (re == null) {\n            this.ngOnInit();\n          }\n        });\n      } else {\n        this.DPGF = dpgf;\n        this.DPGF.lots.forEach(lot => {\n          this.LotList.push({\n            name: lot['name'],\n            _id: lot['_id'],\n            total: lot['total']\n          });\n          if (lot.sousLots == undefined || lot.sousLots == null) {\n            lot.sousLots = [];\n          }\n          this.CurrentLot = this.DPGF.lots[0]._id;\n        });\n        this.Total = Number(this.DPGF.total);\n        console.log(this.DPGF);\n      }\n    });\n  }\n  FindLotByIdAndReplace(ReplacementLot) {\n    let i = 0;\n    let flag = false;\n    this.DPGF.lots.forEach(lot => {\n      if (lot._id == ReplacementLot._id) {\n        this.DPGF.lots[i] = ReplacementLot;\n        flag = true;\n      }\n      i++;\n    });\n    return flag;\n  }\n  UpdateLotList() {\n    this.LotList = [];\n    this.DPGF.lots.forEach(lot => {\n      this.LotList.push({\n        name: lot['name'],\n        _id: lot['_id'],\n        total: lot['total']\n      });\n      if (lot.sousLots == undefined || lot.sousLots == null) {\n        lot.sousLots = [];\n      }\n    });\n  }\n  fetchLotByIdAndDisplay(id) {\n    for (let index = 0; index < this.DPGF.lots.length; index++) {\n      const element = this.DPGF.lots[index];\n      if (element._id == id) {\n        return element;\n      }\n    }\n    return this.DPGF.lots[0];\n  }\n  //lifecycle hooks\n  ngOnInit() {\n    this.getIdFromUrl();\n    this.InitializeDpgfAndLotList();\n  }\n  ////// Event handlers\n  OnNotifyNav(data) {\n    console.log(JSON.stringify(data) + ' was clicked !');\n    this.CurrentLot = data;\n    this.showDefault = false;\n  }\n  OnNotifyDefaulrScreen(data) {\n    console.log(JSON.stringify(data) + ' was clicked !');\n    let ndata = data;\n    this.CurrentLot = ndata['id'];\n    this.showDefault = false;\n  }\n  OnNotifyLot(event) {\n    if (!this.FindLotByIdAndReplace(event)) {\n      this.DPGF.lots.push(event);\n    }\n    this.UpdateLotList();\n    this.CalcSum();\n    console.log(this.DPGF);\n  }\n  Save() {\n    this.saving = true;\n    this.dpgf.SaveDPGF(this.DPGF).subscribe(status => {\n      if (status == 200) {\n        console.log('saved');\n        this.saving = false;\n      } else {\n        this.saving = false;\n        alert('Error Status : ' + status);\n      }\n    });\n  }\n  AddNewLot() {\n    this.DPGF.lots.push({\n      _id: String(new Date().getTime()),\n      name: 'New Lot',\n      total: '0',\n      sousLots: []\n    });\n    this.UpdateLotList();\n    this.CalcSum();\n  }\n}\nMainComponent.Éµfac = function MainComponent_Factory(t) {\n  return new (t || MainComponent)(i0.ÉµÉµdirectiveInject(i1.DpgfService), i0.ÉµÉµdirectiveInject(i2.ActivatedRoute), i0.ÉµÉµdirectiveInject(i2.Router));\n};\nMainComponent.Éµcmp = /*@__PURE__*/i0.ÉµÉµdefineComponent({\n  type: MainComponent,\n  selectors: [[\"app-main\"]],\n  decls: 12,\n  vars: 6,\n  consts: [[1, \"test\"], [1, \"save\", 3, \"click\"], [4, \"ngIf\"], [1, \"leave\", 3, \"routerLink\"], [1, \"container\"], [1, \"left\"], [3, \"LotList\", \"notify\", \"addLot\"], [1, \"right\"], [3, \"lotList\", \"notify\", 4, \"ngIf\"], [3, \"Lot\", \"notify\", \"exit\", 4, \"ngIf\"], [3, \"lotList\", \"notify\"], [3, \"Lot\", \"notify\", \"exit\"]],\n  template: function MainComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ÉµÉµelementStart(0, \"div\", 0)(1, \"div\", 1);\n      i0.ÉµÉµlistener(\"click\", function MainComponent_Template_div_click_1_listener() {\n        return ctx.Save();\n      });\n      i0.ÉµÉµtemplate(2, MainComponent_span_2_Template, 2, 0, \"span\", 2);\n      i0.ÉµÉµtemplate(3, MainComponent_span_3_Template, 2, 0, \"span\", 2);\n      i0.ÉµÉµelementEnd();\n      i0.ÉµÉµelementStart(4, \"div\", 3);\n      i0.ÉµÉµtext(5, \" <- Retour\");\n      i0.ÉµÉµelementEnd();\n      i0.ÉµÉµelementStart(6, \"div\", 4)(7, \"div\", 5)(8, \"app-nav\", 6);\n      i0.ÉµÉµlistener(\"notify\", function MainComponent_Template_app_nav_notify_8_listener($event) {\n        return ctx.OnNotifyNav($event);\n      })(\"addLot\", function MainComponent_Template_app_nav_addLot_8_listener() {\n        return ctx.AddNewLot();\n      });\n      i0.ÉµÉµelementEnd()();\n      i0.ÉµÉµelementStart(9, \"div\", 7);\n      i0.ÉµÉµtemplate(10, MainComponent_app_default_screen_10_Template, 1, 1, \"app-default-screen\", 8);\n      i0.ÉµÉµtemplate(11, MainComponent_app_lot_11_Template, 1, 1, \"app-lot\", 9);\n      i0.ÉµÉµelementEnd()()();\n    }\n    if (rf & 2) {\n      i0.ÉµÉµadvance(2);\n      i0.ÉµÉµproperty(\"ngIf\", !ctx.saving);\n      i0.ÉµÉµadvance(1);\n      i0.ÉµÉµproperty(\"ngIf\", ctx.saving);\n      i0.ÉµÉµadvance(1);\n      i0.ÉµÉµproperty(\"routerLink\", \"/home/projects/about/\" + ctx.ProjectId);\n      i0.ÉµÉµadvance(4);\n      i0.ÉµÉµproperty(\"LotList\", ctx.LotList);\n      i0.ÉµÉµadvance(2);\n      i0.ÉµÉµproperty(\"ngIf\", ctx.isArray(ctx.LotList) && ctx.LotList.length != 0 && ctx.showDefault);\n      i0.ÉµÉµadvance(1);\n      i0.ÉµÉµproperty(\"ngIf\", ctx.DPGF && ctx.isArray(ctx.DPGF.lots) && ctx.DPGF.lots.length != 0 && !ctx.showDefault);\n    }\n  },\n  dependencies: [i3.NgIf, i2.RouterLink, i4.NavComponent, i5.DefaultScreenComponent, i6.LotComponent],\n  styles: [\".test[_ngcontent-%COMP%] {\\n  height: 100vh;\\n  display: flex;\\n  flex-direction: row;\\n  justify-content: center;\\n  align-items: center;\\n  background-color: #f5f7fb;\\n}\\n.test[_ngcontent-%COMP%]   .save[_ngcontent-%COMP%], .test[_ngcontent-%COMP%]   .leave[_ngcontent-%COMP%] {\\n  color: white;\\n  background-color: #8a05ff;\\n  padding-inline: 1.5rem;\\n  padding-block: 0.3rem;\\n  border: none;\\n  border-radius: 20px;\\n  font-size: 1.2rem;\\n  font-weight: 500;\\n  box-shadow: 1px rgb(103, 0, 194);\\n  margin-top: 4rem;\\n  border: solid 1px white;\\n  cursor: pointer;\\n  transition: background-color 0.3s;\\n  position: absolute;\\n  top: -3rem;\\n  right: 2rem;\\n}\\n.test[_ngcontent-%COMP%]   .save[_ngcontent-%COMP%]:hover, .test[_ngcontent-%COMP%]   .leave[_ngcontent-%COMP%]:hover {\\n  background-color: white;\\n  color: #8a05ff;\\n  border: solid 1px #9b29ff;\\n}\\n.test[_ngcontent-%COMP%]   .save[_ngcontent-%COMP%]:active, .test[_ngcontent-%COMP%]   .leave[_ngcontent-%COMP%]:active {\\n  background-color: #e6e6e6;\\n}\\n.test[_ngcontent-%COMP%]   .leave[_ngcontent-%COMP%] {\\n  right: auto;\\n  left: 2rem;\\n}\\n.test[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: row;\\n  justify-content: center;\\n  align-items: center;\\n  height: 83%;\\n  width: 75%;\\n  gap: 5%;\\n}\\n.test[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%] {\\n  border: solid 1px #9b29ff;\\n  border-radius: 30px;\\n  padding-inline: 1rem;\\n  padding-block: 2rem;\\n  background-color: white;\\n  flex-grow: 2.5;\\n  height: 100%;\\n  min-width: 16rem;\\n  box-sizing: border-box;\\n  max-width: 900px;\\n  overflow-y: auto;\\n}\\n.test[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%] {\\n  border: solid 1px #9b29ff;\\n  border-radius: 30px;\\n  padding-inline: 1rem;\\n  padding-block: 2rem;\\n  background-color: white;\\n  min-width: 8rem;\\n  max-width: 350px;\\n  flex-grow: 1;\\n  height: 100%;\\n  box-sizing: border-box;\\n}\\n.test[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   app-nav[_ngcontent-%COMP%] {\\n  width: 50%;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvZHBnZi9tYWluL21haW4uY29tcG9uZW50LnNjc3MiLCJ3ZWJwYWNrOi8vLi9zcmMvYXNzZXRzL19taXhpbnMuc2NzcyIsIndlYnBhY2s6Ly8uL3NyYy9hc3NldHMvX0dsb2JhbFZhcnMuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFHQTtFQUNJLGFBQUE7RUNhQSxhQUFBO0VBQ0EsbUJBQUE7RUFDQSx1QkFBQTtFQUNBLG1CQUFBO0VEZEEseUJFSmdCO0FGS3BCO0FBQUk7RUNvQkEsWURuQjRDO0VDb0I1Qyx5QkFBQTtFQUNBLHNCRHJCeUQ7RUNzQnpELHFCRHRCZ0U7RUN1QmhFLFlBQUE7RUFDQSxtQkFBQTtFQUNBLGlCRHpCa0Q7RUMwQmxELGdCQUFBO0VBQ0EsZ0NBQUE7RUFDQSxnQkFBQTtFQUNBLHVCQUFBO0VBQ0EsZUFBQTtFQUNBLGlDQUFBO0VEOUJJLGtCQUFBO0VBQ0EsVUFBQTtFQUNBLFdBQUE7QUFjUjtBQ2VJO0VBQ0ksdUJEakN3QztFQ2tDeEMsY0FBQTtFQUNBLHlCQUFBO0FEYlI7QUFsQlE7RUFFSSx5QkFBQTtBQW1CWjtBQWhCSTtFQUNJLFdBQUE7RUFDQSxVQUFBO0FBa0JSO0FBaEJJO0VDSkEsYUFBQTtFQUNBLG1CQUFBO0VBQ0EsdUJBQUE7RUFDQSxtQkFBQTtFREdJLFdBQUE7RUFDQSxVQUFBO0VBQ0EsT0FBQTtBQXFCUjtBQXBCUTtFQ3NCSix5QkFBQTtFQUNBLG1CQUFBO0VBQ0Esb0JBQUE7RUFDQSxtQkFBQTtFQUNBLHVCQUFBO0VEeEJRLGNBQUE7RUFDQSxZQUFBO0VBQ0EsZ0JBQUE7RUFDQSxzQkFBQTtFQUNBLGdCQUFBO0VBQ0EsZ0JBQUE7QUEwQlo7QUFyQlE7RUNVSix5QkFBQTtFQUNBLG1CQUFBO0VBQ0Esb0JBQUE7RUFDQSxtQkFBQTtFQUNBLHVCQUFBO0VEWlEsZUFBQTtFQUNBLGdCQUFBO0VBQ0EsWUFBQTtFQUNBLFlBQUE7RUFDQSxzQkFBQTtBQTJCWjtBQXpCWTtFQUNJLFVBQUE7QUEyQmhCIiwic291cmNlc0NvbnRlbnQiOlsiQHVzZSAnLi4vLi4vLi4vYXNzZXRzL21peGlucycgYXMgbWl4IDtcclxuQHVzZSAnLi4vLi4vLi4vYXNzZXRzL0dsb2JhbFZhcnMnIGFzIHZhcnMgO1xyXG5cclxuLnRlc3R7XHJcbiAgICBoZWlnaHQ6IDEwMHZoO1xyXG4gICAgQGluY2x1ZGUgbWl4LmZsZXgtaG9yLWNlbjtcclxuICAgIGJhY2tncm91bmQtY29sb3I6IHZhcnMuJGNvbG9yLWJhY2tncm91bmQgO1xyXG4gICAgLnNhdmUgLCAubGVhdmV7XHJcbiAgICAgICAgQGluY2x1ZGUgbWl4LmJ1dHRvbih2YXJzLiRjb2xvci1wcmltYXJ5LHdoaXRlLDEuMnJlbSwxLjVyZW0sLjNyZW0pO1xyXG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgICAgICB0b3A6IC0zcmVtO1xyXG4gICAgICAgIHJpZ2h0OiAycmVtO1xyXG4gICAgICAgICY6YWN0aXZle1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogZGFya2VuKHdoaXRlLDEwKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAubGVhdmV7XHJcbiAgICAgICAgcmlnaHQ6IGF1dG87XHJcbiAgICAgICAgbGVmdDogMnJlbTtcclxuICAgIH1cclxuICAgIC5jb250YWluZXJ7XHJcbiAgICAgICAgQGluY2x1ZGUgbWl4LmZsZXgtaG9yLWNlbjtcclxuICAgICAgICBoZWlnaHQ6IDgzJTtcclxuICAgICAgICB3aWR0aDogNzUlO1xyXG4gICAgICAgIGdhcDogNSU7XHJcbiAgICAgICAgLnJpZ2h0e1xyXG4gICAgICAgICAgICBAaW5jbHVkZSBtaXgucm91bmQtYm94O1xyXG4gICAgICAgICAgICBmbGV4LWdyb3c6IDIuNTtcclxuICAgICAgICAgICAgaGVpZ2h0OiAxMDAlO1xyXG4gICAgICAgICAgICBtaW4td2lkdGg6IDE2cmVtO1xyXG4gICAgICAgICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xyXG4gICAgICAgICAgICBtYXgtd2lkdGg6IDkwMHB4O1xyXG4gICAgICAgICAgICBvdmVyZmxvdy15IDogYXV0bztcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgLy8gYmFja2dyb3VuZC1jb2xvcjogdmFycy4kY29sb3ItcHJpbWFyeTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgfVxyXG4gICAgICAgIC5sZWZ0e1xyXG4gICAgICAgICAgICBAaW5jbHVkZSBtaXgucm91bmQtYm94O1xyXG4gICAgICAgICAgICBtaW4td2lkdGg6IDhyZW07XHJcbiAgICAgICAgICAgIG1heC13aWR0aDogMzUwcHg7XHJcbiAgICAgICAgICAgIGZsZXgtZ3JvdzogMTtcclxuICAgICAgICAgICAgaGVpZ2h0OiAxMDAlO1xyXG4gICAgICAgICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xyXG4gICAgICAgICAvLyAgIGJhY2tncm91bmQtY29sb3I6IGJsdWU7XHJcbiAgICAgICAgICAgIGFwcC1uYXZ7XHJcbiAgICAgICAgICAgICAgICB3aWR0aDogNTAlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuXHJcbn0iLCJAdXNlICcuL0dsb2JhbFZhcnMnIGFzIHZhcnM7XHJcblxyXG5AbWl4aW4gZmxleC1ob3Ige1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7XHJcbn1cclxuQG1peGluIGZsZXgtdmVye1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbn1cclxuQG1peGluIGZsZXgtdmVyLWNlbntcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG59XHJcbkBtaXhpbiBmbGV4LWhvci1jZW57XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgZmxleC1kaXJlY3Rpb246IHJvdztcclxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxufVxyXG5AbWl4aW4gbWFyZ2luLWF1dG8tY2VudGVyIHtcclxuICAgIGRpc3BsYXkgOiBibG9jaztcclxuICAgIG1hcmdpbi1pbmxpbmUgOiBhdXRvO1xyXG59XHJcbkBtaXhpbiBidXR0b24oJHByICwgJHNlYywkZm9udC1zaXplICwgJHBhZGRpbmctaW5saW5lLCAkcGFkZGluZy1ibG9jaykge1xyXG4gICAgY29sb3IgOiAkc2VjO1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogbGlnaHRlbigkY29sb3I6ICRwciAsICRhbW91bnQ6IDEzKTtcclxuICAgIHBhZGRpbmctaW5saW5lOiAkcGFkZGluZy1pbmxpbmU7XHJcbiAgICBwYWRkaW5nLWJsb2NrOiAkcGFkZGluZy1ibG9jaztcclxuICAgIGJvcmRlcjogbm9uZTtcclxuICAgIGJvcmRlci1yYWRpdXMgOiAyMHB4O1xyXG4gICAgZm9udC1zaXplIDogJGZvbnQtc2l6ZSA7XHJcbiAgICBmb250LXdlaWdodDogNTAwO1xyXG4gICAgYm94LXNoYWRvdzogMXB4ICRwcjtcclxuICAgIG1hcmdpbi10b3A6IDRyZW07XHJcbiAgICBib3JkZXI6IHNvbGlkIDFweCAkc2VjO1xyXG4gICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgdHJhbnNpdGlvbjogYmFja2dyb3VuZC1jb2xvciAuM3M7XHJcbiAgICAmOmhvdmVye1xyXG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6ICRzZWM7XHJcbiAgICAgICAgY29sb3I6IGxpZ2h0ZW4oJGNvbG9yOiAkcHIgLCAkYW1vdW50OiAxMyk7XHJcbiAgICAgICAgYm9yZGVyOiBzb2xpZCAxcHggbGlnaHRlbigkY29sb3I6ICRwciwgJGFtb3VudDogMjApO1xyXG5cclxuICAgIH1cclxufVxyXG5AbWl4aW4gcm91bmQtYm94IHtcclxuICAgIGJvcmRlcjogc29saWQgMXB4IGxpZ2h0ZW4oJGNvbG9yOiB2YXJzLiRjb2xvci1wcmltYXJ5LCAkYW1vdW50OiAyMCk7XHJcbiAgICBib3JkZXItcmFkaXVzOiAzMHB4O1xyXG4gICAgcGFkZGluZy1pbmxpbmU6IDFyZW0gO1xyXG4gICAgcGFkZGluZy1ibG9jazoycmVtIDtcclxuICAgIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xyXG59IiwiJGNvbG9yLXByaW1hcnkgOiByZ2IoMTAzLCAwLCAxOTQpO1xyXG4kY29sb3Itc2Vjb25kYXJ5IDogd2hpdGU7XHJcbiRjb2xvci1iYWNrZ3JvdW5kIDogI2Y1ZjdmYiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"names":["catchError","of","i0","ÉµÉµelementStart","ÉµÉµtext","ÉµÉµelementEnd","ÉµÉµlistener","MainComponent_app_default_screen_10_Template_app_default_screen_notify_0_listener","$event","ÉµÉµrestoreView","_r5","ctx_r4","ÉµÉµnextContext","ÉµÉµresetView","OnNotifyDefaulrScreen","ÉµÉµproperty","ctx_r2","LotList","MainComponent_app_lot_11_Template_app_lot_notify_0_listener","_r7","ctx_r6","OnNotifyLot","MainComponent_app_lot_11_Template_app_lot_exit_0_listener","ctx_r8","showDefault","ctx_r3","fetchLotByIdAndDisplay","CurrentLot","MainComponent","constructor","dpgf","route","router","ProjectId","Total","saving","CalcSum","DPGF","lots","forEach","lot","isNaN","Number","total","String","isArray","arr","Array","getIdFromUrl","paramMap","subscribe","r","get","InitializeDpgfAndLotList","getDpgf","console","log","toUpperCase","CreateDpgfFor","pipe","error","status","re","ngOnInit","push","name","_id","sousLots","undefined","FindLotByIdAndReplace","ReplacementLot","i","flag","UpdateLotList","id","index","length","element","OnNotifyNav","data","JSON","stringify","ndata","event","Save","SaveDPGF","alert","AddNewLot","Date","getTime","ÉµÉµdirectiveInject","i1","DpgfService","i2","ActivatedRoute","Router","selectors","decls","vars","consts","template","MainComponent_Template","rf","ctx","MainComponent_Template_div_click_1_listener","ÉµÉµtemplate","MainComponent_span_2_Template","MainComponent_span_3_Template","MainComponent_Template_app_nav_notify_8_listener","MainComponent_Template_app_nav_addLot_8_listener","MainComponent_app_default_screen_10_Template","MainComponent_app_lot_11_Template","ÉµÉµadvance"],"sources":["C:\\Users\\Yassir\\Desktop\\web\\Angular-test\\aglo-clone\\src\\app\\dpgf\\main\\main.component.ts","C:\\Users\\Yassir\\Desktop\\web\\Angular-test\\aglo-clone\\src\\app\\dpgf\\main\\main.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { DpgfService } from 'src/app/Services/dpgf.service';\r\nimport { Lot } from '../lot/lot.component';\r\nimport { catchError, findIndex, map, of } from 'rxjs';\r\nimport { HttpErrorResponse } from '@angular/common/http';\r\n\r\nexport type dpgf = {\r\n  _id: string;\r\n  total: string;\r\n  project: string;\r\n  lots: Array<Lot>;\r\n};\r\n@Component({\r\n  selector: 'app-main',\r\n  templateUrl: './main.component.html',\r\n  styleUrls: ['./main.component.scss'],\r\n})\r\nexport class MainComponent implements OnInit {\r\n  ///// Variables\r\n  ProjectId: string | null = '';\r\n  DPGF!: dpgf; // dpgf has everything all data\r\n  LotList: Array<Record<string, string>> = []; //list of lots from dpgf\r\n  showDefault = true;\r\n  CurrentLot!: string;\r\n  Total = 0;\r\n  saving = false;\r\n\r\n  ///// constructor\r\n  constructor(\r\n    private dpgf: DpgfService,\r\n    private route: ActivatedRoute,\r\n    private router: Router\r\n  ) {}\r\n\r\n  //// methods :\r\n  CalcSum() {\r\n    this.Total = 0;\r\n    this.DPGF.lots.forEach((lot) => {\r\n      if (!isNaN(Number(lot.total))) {\r\n        this.Total += Number(lot.total);\r\n      }\r\n    });\r\n    this.DPGF.total = String(this.Total);\r\n  }\r\n  isArray(arr: any) {\r\n    return Array.isArray(arr);\r\n  }\r\n  getIdFromUrl() {\r\n    this.route.paramMap.subscribe((r) => {\r\n      this.ProjectId = r.get('id');\r\n    });\r\n  }\r\n\r\n  InitializeDpgfAndLotList() {\r\n    this.dpgf.getDpgf(this.ProjectId as string).subscribe((dpgf) => {\r\n      if (typeof dpgf == 'number') {\r\n        console.log('error fetching dpgf'.toUpperCase());\r\n      }\r\n      if (dpgf == null) {\r\n        this.dpgf\r\n          .CreateDpgfFor(this.ProjectId as string)\r\n          .pipe(\r\n            catchError((error: HttpErrorResponse) => {\r\n              return of(error.status);\r\n            })\r\n          )\r\n          .subscribe((re) => {\r\n            console.log(re);\r\n            if (re == null) {\r\n              this.ngOnInit();\r\n            }\r\n          });\r\n      } else {\r\n        this.DPGF = dpgf as dpgf;\r\n\r\n        this.DPGF.lots.forEach((lot) => {\r\n          this.LotList.push({\r\n            name: lot['name'] as string,\r\n            _id: lot['_id'] as string,\r\n            total: lot['total'] as string,\r\n          });\r\n          if (lot.sousLots == undefined || lot.sousLots == null) {\r\n            lot.sousLots = [];\r\n          }\r\n          this.CurrentLot = this.DPGF.lots[0]._id;\r\n        });\r\n        this.Total = Number(this.DPGF.total);\r\n        console.log(this.DPGF);\r\n      }\r\n    });\r\n  }\r\n  FindLotByIdAndReplace(ReplacementLot: Lot) {\r\n    let i = 0;\r\n    let flag = false;\r\n    this.DPGF.lots.forEach((lot) => {\r\n      if (lot._id == ReplacementLot._id) {\r\n        this.DPGF.lots[i] = ReplacementLot;\r\n        flag = true;\r\n      }\r\n      i++;\r\n    });\r\n    return flag;\r\n  }\r\n  UpdateLotList() {\r\n    this.LotList = [];\r\n    this.DPGF.lots.forEach((lot) => {\r\n      this.LotList.push({\r\n        name: lot['name'] as string,\r\n        _id: lot['_id'] as string,\r\n        total: lot['total'] as string,\r\n      });\r\n      if (lot.sousLots == undefined || lot.sousLots == null) {\r\n        lot.sousLots = [];\r\n      }\r\n    });\r\n  }\r\n  fetchLotByIdAndDisplay(id: string) {\r\n    for (let index = 0; index < this.DPGF.lots.length; index++) {\r\n      const element = this.DPGF.lots[index];\r\n      if (element._id == id) {\r\n        return element;\r\n      }\r\n    }\r\n    return this.DPGF.lots[0];\r\n  }\r\n\r\n  //lifecycle hooks\r\n\r\n  ngOnInit() {\r\n    this.getIdFromUrl();\r\n    this.InitializeDpgfAndLotList();\r\n  }\r\n\r\n  ////// Event handlers\r\n  OnNotifyNav(data: string) {\r\n    console.log(JSON.stringify(data) + ' was clicked !');\r\n    this.CurrentLot = data;\r\n    this.showDefault = false;\r\n  }\r\n  OnNotifyDefaulrScreen(data: Object) {\r\n    console.log(JSON.stringify(data) + ' was clicked !');\r\n    let ndata = data as Record<string, string>;\r\n    this.CurrentLot = ndata['id'];\r\n    this.showDefault = false;\r\n  }\r\n  OnNotifyLot(event: Lot) {\r\n    if (!this.FindLotByIdAndReplace(event)) {\r\n      this.DPGF.lots.push(event);\r\n    }\r\n    this.UpdateLotList();\r\n    this.CalcSum();\r\n    console.log(this.DPGF);\r\n  }\r\n  Save() {\r\n    this.saving = true;\r\n\r\n    this.dpgf.SaveDPGF(this.DPGF).subscribe((status) => {\r\n      if (status == 200) {\r\n        console.log('saved');\r\n        this.saving = false;\r\n      } else {\r\n        this.saving = false;\r\n        alert('Error Status : ' + status);\r\n      }\r\n    });\r\n  }\r\n  AddNewLot() {\r\n    this.DPGF.lots.push({\r\n      _id: String(new Date().getTime()),\r\n      name: 'New Lot',\r\n      total: '0',\r\n      sousLots: [],\r\n    });\r\n    this.UpdateLotList();\r\n    this.CalcSum();\r\n  }\r\n}\r\n","<div class=\"test\">\r\n    <div class=\"save\" (click)=\"Save()\"> <span *ngIf=\"!saving\">ðŸ–« Enregistrer</span> <span *ngIf=\"saving\"> Saving ...</span></div>\r\n    <div class=\"leave\" [routerLink]=\"'/home/projects/about/'+ProjectId\"> &lt;- Retour</div>\r\n    <div class=\"container\">\r\n\r\n        <div class=\"left\">\r\n            <app-nav [LotList]=\"LotList\" (notify)=\"OnNotifyNav($event)\" (addLot)=\"AddNewLot()\"></app-nav>\r\n        </div>\r\n        <div class=\"right\" >\r\n            \r\n            <app-default-screen *ngIf=\" isArray(LotList) && LotList.length != 0 && showDefault\" [lotList]=\"LotList \" (notify)=\"OnNotifyDefaulrScreen($event) \"></app-default-screen>\r\n            <app-lot *ngIf=\"DPGF && isArray(DPGF.lots) && DPGF.lots.length != 0  && !showDefault\" [Lot]=\"fetchLotByIdAndDisplay(CurrentLot)\" (notify)=\"OnNotifyLot($event)\" (exit)=\"showDefault= true\"></app-lot>\r\n            \r\n        </div>\r\n\r\n        \r\n    </div>\r\n</div>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}