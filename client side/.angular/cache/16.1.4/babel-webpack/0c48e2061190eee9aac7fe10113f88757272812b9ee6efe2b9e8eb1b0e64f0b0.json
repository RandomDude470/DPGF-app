{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/Services/dpgf.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"../nav/nav.component\";\nimport * as i4 from \"../sous-lot/sous-lot.component\";\nexport class MainComponent {\n  ///// constructor\n  constructor(dpgf, route, router) {\n    this.dpgf = dpgf;\n    this.route = route;\n    this.router = router;\n    ///// Variables \n    this.dpgfId = '';\n    this.LotList = []; //list of lots from dpgf\n  }\n  //// methods :\n  isArray(arr) {\n    return Array.isArray(arr);\n  }\n  getIdFromUrl() {\n    this.route.paramMap.subscribe(r => {\n      this.dpgfId = r.get('id');\n    });\n  }\n  InitializeDpgfAndLotList() {\n    this.dpgf.getDpgf(this.dpgfId).subscribe(dpgf => {\n      if (typeof dpgf == 'number') {\n        console.log(\"error fetching dpgf\".toUpperCase());\n      } else {\n        this.DPGF = dpgf;\n        this.DPGF.lots.forEach(lot => {\n          this.LotList.push({\n            name: lot['name'],\n            _id: lot[\"_id\"],\n            total: lot[\"total\"]\n          });\n        });\n        console.log(this.DPGF);\n      }\n    });\n  }\n  //lifecycle hooks\n  ngOnInit() {\n    this.getIdFromUrl();\n    this.InitializeDpgfAndLotList();\n  }\n  ////// Notification methods\n  OnNotifyNav(data) {\n    console.log(JSON.stringify(data) + ' was clicked !');\n  }\n  OnNotifyDefaulrScreen(data) {\n    console.log(JSON.stringify(data) + ' was clicked !');\n  }\n}\nMainComponent.ɵfac = function MainComponent_Factory(t) {\n  return new (t || MainComponent)(i0.ɵɵdirectiveInject(i1.DpgfService), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i2.Router));\n};\nMainComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: MainComponent,\n  selectors: [[\"app-main\"]],\n  decls: 6,\n  vars: 1,\n  consts: [[1, \"test\"], [1, \"container\"], [1, \"left\"], [3, \"LotList\", \"notify\"], [1, \"right\"]],\n  template: function MainComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"app-nav\", 3);\n      i0.ɵɵlistener(\"notify\", function MainComponent_Template_app_nav_notify_3_listener($event) {\n        return ctx.OnNotifyNav($event);\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(4, \"div\", 4);\n      i0.ɵɵelement(5, \"app-sous-lot\");\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"LotList\", ctx.LotList);\n    }\n  },\n  dependencies: [i3.NavComponent, i4.SousLotComponent],\n  styles: [\".test[_ngcontent-%COMP%] {\\n  height: 100vh;\\n  display: flex;\\n  flex-direction: row;\\n  justify-content: center;\\n  align-items: center;\\n  background-color: #f5f7fb;\\n}\\n.test[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: row;\\n  justify-content: center;\\n  align-items: center;\\n  height: 80%;\\n  width: 75%;\\n  gap: 5%;\\n}\\n.test[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%] {\\n  border: solid 1px #9b29ff;\\n  border-radius: 30px;\\n  padding-inline: 1rem;\\n  padding-block: 2rem;\\n  background-color: white;\\n  flex-grow: 2.5;\\n  height: 100%;\\n  min-width: 16rem;\\n  box-sizing: border-box;\\n  max-width: 800px;\\n}\\n.test[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%] {\\n  border: solid 1px #9b29ff;\\n  border-radius: 30px;\\n  padding-inline: 1rem;\\n  padding-block: 2rem;\\n  background-color: white;\\n  min-width: 8rem;\\n  max-width: 350px;\\n  flex-grow: 1;\\n  height: 100%;\\n  box-sizing: border-box;\\n}\\n.test[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   app-nav[_ngcontent-%COMP%] {\\n  width: 50%;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvZHBnZi9tYWluL21haW4uY29tcG9uZW50LnNjc3MiLCJ3ZWJwYWNrOi8vLi9zcmMvYXNzZXRzL19taXhpbnMuc2NzcyIsIndlYnBhY2s6Ly8uL3NyYy9hc3NldHMvX0dsb2JhbFZhcnMuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFHQTtFQUNJLGFBQUE7RUNhQSxhQUFBO0VBQ0EsbUJBQUE7RUFDQSx1QkFBQTtFQUNBLG1CQUFBO0VEZEEseUJFSmdCO0FGS3BCO0FBQUk7RUNVQSxhQUFBO0VBQ0EsbUJBQUE7RUFDQSx1QkFBQTtFQUNBLG1CQUFBO0VEWEksV0FBQTtFQUNBLFVBQUE7RUFDQSxPQUFBO0FBS1I7QUFKUTtFQ29DSix5QkFBQTtFQUNBLG1CQUFBO0VBQ0Esb0JBQUE7RUFDQSxtQkFBQTtFQUNBLHVCQUFBO0VEdENRLGNBQUE7RUFDQSxZQUFBO0VBQ0EsZ0JBQUE7RUFDQSxzQkFBQTtFQUNBLGdCQUFBO0FBVVo7QUFOUTtFQzBCSix5QkFBQTtFQUNBLG1CQUFBO0VBQ0Esb0JBQUE7RUFDQSxtQkFBQTtFQUNBLHVCQUFBO0VENUJRLGVBQUE7RUFDQSxnQkFBQTtFQUNBLFlBQUE7RUFDQSxZQUFBO0VBQ0Esc0JBQUE7QUFZWjtBQVZZO0VBQ0ksVUFBQTtBQVloQiIsInNvdXJjZXNDb250ZW50IjpbIkB1c2UgJy4uLy4uLy4uL2Fzc2V0cy9taXhpbnMnIGFzIG1peCA7XHJcbkB1c2UgJy4uLy4uLy4uL2Fzc2V0cy9HbG9iYWxWYXJzJyBhcyB2YXJzIDtcclxuXHJcbi50ZXN0e1xyXG4gICAgaGVpZ2h0OiAxMDB2aDtcclxuICAgIEBpbmNsdWRlIG1peC5mbGV4LWhvci1jZW47XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXJzLiRjb2xvci1iYWNrZ3JvdW5kIDtcclxuICAgIC5jb250YWluZXJ7XHJcbiAgICAgICAgQGluY2x1ZGUgbWl4LmZsZXgtaG9yLWNlbjtcclxuICAgICAgICBoZWlnaHQ6IDgwJTtcclxuICAgICAgICB3aWR0aDogNzUlO1xyXG4gICAgICAgIGdhcDogNSU7XHJcbiAgICAgICAgLnJpZ2h0e1xyXG4gICAgICAgICAgICBAaW5jbHVkZSBtaXgucm91bmQtYm94O1xyXG4gICAgICAgICAgICBmbGV4LWdyb3c6IDIuNTtcclxuICAgICAgICAgICAgaGVpZ2h0OiAxMDAlO1xyXG4gICAgICAgICAgICBtaW4td2lkdGg6IDE2cmVtO1xyXG4gICAgICAgICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xyXG4gICAgICAgICAgICBtYXgtd2lkdGg6IDgwMHB4XHJcbiAgICAgICAgICAgLy8gYmFja2dyb3VuZC1jb2xvcjogdmFycy4kY29sb3ItcHJpbWFyeTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgfVxyXG4gICAgICAgIC5sZWZ0e1xyXG4gICAgICAgICAgICBAaW5jbHVkZSBtaXgucm91bmQtYm94O1xyXG4gICAgICAgICAgICBtaW4td2lkdGg6IDhyZW07XHJcbiAgICAgICAgICAgIG1heC13aWR0aDogMzUwcHg7XHJcbiAgICAgICAgICAgIGZsZXgtZ3JvdzogMTtcclxuICAgICAgICAgICAgaGVpZ2h0OiAxMDAlO1xyXG4gICAgICAgICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xyXG4gICAgICAgICAvLyAgIGJhY2tncm91bmQtY29sb3I6IGJsdWU7XHJcbiAgICAgICAgICAgIGFwcC1uYXZ7XHJcbiAgICAgICAgICAgICAgICB3aWR0aDogNTAlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuXHJcbn0iLCJAdXNlICcuL0dsb2JhbFZhcnMnIGFzIHZhcnM7XHJcblxyXG5AbWl4aW4gZmxleC1ob3Ige1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7XHJcbn1cclxuQG1peGluIGZsZXgtdmVye1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbn1cclxuQG1peGluIGZsZXgtdmVyLWNlbntcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG59XHJcbkBtaXhpbiBmbGV4LWhvci1jZW57XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgZmxleC1kaXJlY3Rpb246IHJvdztcclxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxufVxyXG5AbWl4aW4gbWFyZ2luLWF1dG8tY2VudGVyIHtcclxuICAgIGRpc3BsYXkgOiBibG9jaztcclxuICAgIG1hcmdpbi1pbmxpbmUgOiBhdXRvO1xyXG59XHJcbkBtaXhpbiBidXR0b24oJHByICwgJHNlYywkZm9udC1zaXplICwgJHBhZGRpbmctaW5saW5lLCAkcGFkZGluZy1ibG9jaykge1xyXG4gICAgY29sb3IgOiAkc2VjO1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogbGlnaHRlbigkY29sb3I6ICRwciAsICRhbW91bnQ6IDEzKTtcclxuICAgIHBhZGRpbmctaW5saW5lOiAkcGFkZGluZy1pbmxpbmU7XHJcbiAgICBwYWRkaW5nLWJsb2NrOiAkcGFkZGluZy1ibG9jaztcclxuICAgIGJvcmRlcjogbm9uZTtcclxuICAgIGJvcmRlci1yYWRpdXMgOiAyMHB4O1xyXG4gICAgZm9udC1zaXplIDogJGZvbnQtc2l6ZSA7XHJcbiAgICBmb250LXdlaWdodDogNTAwO1xyXG4gICAgYm94LXNoYWRvdzogMXB4ICRwcjtcclxuICAgIG1hcmdpbi10b3A6IDRyZW07XHJcbiAgICBib3JkZXI6IHNvbGlkIDFweCAkc2VjO1xyXG4gICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgdHJhbnNpdGlvbjogYmFja2dyb3VuZC1jb2xvciAuM3M7XHJcbiAgICAmOmhvdmVye1xyXG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6ICRzZWM7XHJcbiAgICAgICAgY29sb3I6IGxpZ2h0ZW4oJGNvbG9yOiAkcHIgLCAkYW1vdW50OiAxMyk7XHJcbiAgICAgICAgYm9yZGVyOiBzb2xpZCAxcHggbGlnaHRlbigkY29sb3I6ICRwciwgJGFtb3VudDogMjApO1xyXG5cclxuICAgIH1cclxufVxyXG5AbWl4aW4gcm91bmQtYm94IHtcclxuICAgIGJvcmRlcjogc29saWQgMXB4IGxpZ2h0ZW4oJGNvbG9yOiB2YXJzLiRjb2xvci1wcmltYXJ5LCAkYW1vdW50OiAyMCk7XHJcbiAgICBib3JkZXItcmFkaXVzOiAzMHB4O1xyXG4gICAgcGFkZGluZy1pbmxpbmU6IDFyZW0gO1xyXG4gICAgcGFkZGluZy1ibG9jazoycmVtIDtcclxuICAgIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xyXG59IiwiJGNvbG9yLXByaW1hcnkgOiByZ2IoMTAzLCAwLCAxOTQpO1xyXG4kY29sb3Itc2Vjb25kYXJ5IDogd2hpdGU7XHJcbiRjb2xvci1iYWNrZ3JvdW5kIDogI2Y1ZjdmYiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"names":["MainComponent","constructor","dpgf","route","router","dpgfId","LotList","isArray","arr","Array","getIdFromUrl","paramMap","subscribe","r","get","InitializeDpgfAndLotList","getDpgf","console","log","toUpperCase","DPGF","lots","forEach","lot","push","name","_id","total","ngOnInit","OnNotifyNav","data","JSON","stringify","OnNotifyDefaulrScreen","i0","ɵɵdirectiveInject","i1","DpgfService","i2","ActivatedRoute","Router","selectors","decls","vars","consts","template","MainComponent_Template","rf","ctx","ɵɵelementStart","ɵɵlistener","MainComponent_Template_app_nav_notify_3_listener","$event","ɵɵelementEnd","ɵɵelement","ɵɵadvance","ɵɵproperty"],"sources":["C:\\Users\\Yassir\\Desktop\\web\\Angular-test\\aglo-clone\\src\\app\\dpgf\\main\\main.component.ts","C:\\Users\\Yassir\\Desktop\\web\\Angular-test\\aglo-clone\\src\\app\\dpgf\\main\\main.component.html"],"sourcesContent":["import { Component,OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { DpgfService } from 'src/app/Services/dpgf.service';\n\n type dpgf = {\n  _id : string,\n  total : string,\n  project : string,\n  lots : Array<Record<string , string | Array<Record<string , string | Array<Record<string , string>>>>>>\n}\n@Component({\n  selector: 'app-main',\n  templateUrl: './main.component.html',\n  styleUrls: ['./main.component.scss']\n})\n\n\n\nexport class MainComponent implements OnInit {\n  ///// Variables \n  dpgfId : string | null= ''\n  DPGF! : dpgf; // dpgf has everything all data\n  LotList : Array<Record<string ,string>>=[] //list of lots from dpgf\n \n\n\n\n\n\n\n  ///// constructor\n  constructor (private dpgf : DpgfService , private route  : ActivatedRoute, private router : Router){}\n\n\n\n\n\n\n\n\n  //// methods :\n  isArray(arr  : any){return Array.isArray(arr)}\n  getIdFromUrl(){\n    this.route.paramMap.subscribe((r)=>{\n      this.dpgfId = r.get('id')\n    })\n\n  }\n\n  InitializeDpgfAndLotList(){\n    this.dpgf.getDpgf(this.dpgfId as string)\n    .subscribe(\n      (dpgf)=>{\n        if (typeof(dpgf) == 'number') {\n          console.log(\"error fetching dpgf\".toUpperCase());\n          \n        } else {\n          this.DPGF = dpgf as dpgf\n          this.DPGF.lots.forEach((lot)=>{\n            this.LotList.push({name: lot['name'] as string,_id :lot[\"_id\"] as string, total : lot[\"total\"] as string })\n          })\n         console.log(this.DPGF);\n         \n          \n        }\n      }\n    )\n  }\n\n\n\n\n\n\n  //lifecycle hooks\n\n  ngOnInit() {\n    this.getIdFromUrl()\n    this.InitializeDpgfAndLotList()   \n  }\n\n\n\n\n\n\n  ////// Notification methods\n  OnNotifyNav(data: Object){\n    console.log(JSON.stringify(data)+' was clicked !');\n    \n  }\n  OnNotifyDefaulrScreen(data: Object){\n    console.log(JSON.stringify(data)+' was clicked !');\n  }\n\n  \n}\n","<div class=\"test\">\n    <div class=\"container\">\n\n        <div class=\"left\">\n            <app-nav [LotList]=\"LotList\" (notify)=\"OnNotifyNav($event)\"></app-nav>\n        </div>\n        <div class=\"right\">\n            <!-- <app-default-screen *ngIf=\" isArray(LotList) && LotList.length != 0\" [lotList]=\"LotList \" (notify)=\"OnNotifyDefaulrScreen($event)\"></app-default-screen> -->\n            <app-sous-lot></app-sous-lot>\n            \n        </div>\n    </div>\n</div>"],"mappings":";;;;;AAkBA,OAAM,MAAOA,aAAa;EAYxB;EACAC,YAAqBC,IAAkB,EAAWC,KAAuB,EAAUC,MAAe;IAA7E,KAAAF,IAAI,GAAJA,IAAI;IAAyB,KAAAC,KAAK,GAALA,KAAK;IAA4B,KAAAC,MAAM,GAANA,MAAM;IAZzF;IACA,KAAAC,MAAM,GAAkB,EAAE;IAE1B,KAAAC,OAAO,GAAiC,EAAE,EAAC;EASyD;EASpG;EACAC,OAAOA,CAACC,GAAU;IAAE,OAAOC,KAAK,CAACF,OAAO,CAACC,GAAG,CAAC;EAAA;EAC7CE,YAAYA,CAAA;IACV,IAAI,CAACP,KAAK,CAACQ,QAAQ,CAACC,SAAS,CAAEC,CAAC,IAAG;MACjC,IAAI,CAACR,MAAM,GAAGQ,CAAC,CAACC,GAAG,CAAC,IAAI,CAAC;IAC3B,CAAC,CAAC;EAEJ;EAEAC,wBAAwBA,CAAA;IACtB,IAAI,CAACb,IAAI,CAACc,OAAO,CAAC,IAAI,CAACX,MAAgB,CAAC,CACvCO,SAAS,CACPV,IAAI,IAAG;MACN,IAAI,OAAOA,IAAK,IAAI,QAAQ,EAAE;QAC5Be,OAAO,CAACC,GAAG,CAAC,qBAAqB,CAACC,WAAW,EAAE,CAAC;OAEjD,MAAM;QACL,IAAI,CAACC,IAAI,GAAGlB,IAAY;QACxB,IAAI,CAACkB,IAAI,CAACC,IAAI,CAACC,OAAO,CAAEC,GAAG,IAAG;UAC5B,IAAI,CAACjB,OAAO,CAACkB,IAAI,CAAC;YAACC,IAAI,EAAEF,GAAG,CAAC,MAAM,CAAW;YAACG,GAAG,EAAEH,GAAG,CAAC,KAAK,CAAW;YAAEI,KAAK,EAAGJ,GAAG,CAAC,OAAO;UAAW,CAAE,CAAC;QAC7G,CAAC,CAAC;QACHN,OAAO,CAACC,GAAG,CAAC,IAAI,CAACE,IAAI,CAAC;;IAIzB,CAAC,CACF;EACH;EAOA;EAEAQ,QAAQA,CAAA;IACN,IAAI,CAAClB,YAAY,EAAE;IACnB,IAAI,CAACK,wBAAwB,EAAE;EACjC;EAOA;EACAc,WAAWA,CAACC,IAAY;IACtBb,OAAO,CAACC,GAAG,CAACa,IAAI,CAACC,SAAS,CAACF,IAAI,CAAC,GAAC,gBAAgB,CAAC;EAEpD;EACAG,qBAAqBA,CAACH,IAAY;IAChCb,OAAO,CAACC,GAAG,CAACa,IAAI,CAACC,SAAS,CAACF,IAAI,CAAC,GAAC,gBAAgB,CAAC;EACpD;;AA3EW9B,aAAa,C;mBAAbA,aAAa,EAAAkC,EAAA,CAAAC,iBAAA,CAAAC,EAAA,CAAAC,WAAA,GAAAH,EAAA,CAAAC,iBAAA,CAAAG,EAAA,CAAAC,cAAA,GAAAL,EAAA,CAAAC,iBAAA,CAAAG,EAAA,CAAAE,MAAA;AAAA;AAAbxC,aAAa,C;QAAbA,aAAa;EAAAyC,SAAA;EAAAC,KAAA;EAAAC,IAAA;EAAAC,MAAA;EAAAC,QAAA,WAAAC,uBAAAC,EAAA,EAAAC,GAAA;IAAA,IAAAD,EAAA;MClB1Bb,EAAA,CAAAe,cAAA,aAAkB;MAIuBf,EAAA,CAAAgB,UAAA,oBAAAC,iDAAAC,MAAA;QAAA,OAAUJ,GAAA,CAAAnB,WAAA,CAAAuB,MAAA,CAAmB;MAAA,EAAC;MAAClB,EAAA,CAAAmB,YAAA,EAAU;MAE1EnB,EAAA,CAAAe,cAAA,aAAmB;MAEff,EAAA,CAAAoB,SAAA,mBAA6B;MAEjCpB,EAAA,CAAAmB,YAAA,EAAM;;;MANOnB,EAAA,CAAAqB,SAAA,GAAmB;MAAnBrB,EAAA,CAAAsB,UAAA,YAAAR,GAAA,CAAA1C,OAAA,CAAmB"},"metadata":{},"sourceType":"module","externalDependencies":[]}